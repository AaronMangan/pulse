import{r as i,K as v,j as t,a as e}from"./app-f57a6cd2.js";import{M as w,S as k}from"./SecondaryButton-5175e314.js";import{T as R,I as C}from"./TextInput-69963946.js";import{I as D}from"./InputLabel-a23d02b6.js";import{P as c}from"./PrimaryButton-f25fe799.js";/* empty css                         */import{D as s}from"./Dropdown-39168563.js";import{N as I}from"./NoData-4c03f476.js";import"./transition-54f9affd.js";function F({className:d,revisions:n}){const[m,o]=i.useState(!1),h=i.useRef(),p=n.length>0,{data:x,setData:u,post:f,processing:g,reset:l,errors:y}=v({revision:""}),b=()=>{o(!0)},N=r=>{r.preventDefault(),f(route("settings.revision.create"),{preserveScroll:!0,onSuccess:()=>a(),onError:()=>h.current.focus(),onFinish:()=>l()})},a=()=>{o(!1),l()};return t("section",{className:`space-y-6 ${d}`,children:[t("header",{children:[e("h2",{className:"text-lg font-medium font-bold text-gray-900",children:"Revisions"}),e("p",{className:"mt-1 text-xs text-gray-600",children:"Manage the revisions that can be applied to your documents."})]}),p?t("table",{className:"min-w-full rounded-md",children:[e("thead",{className:"bg-gray-600 border-b",children:t("tr",{children:[e("th",{scope:"col",className:"px-6 py-4 text-sm text-left text-white font-large",children:"Id"}),e("th",{scope:"col",className:"px-6 py-4 text-sm text-left text-white font-large",children:"Name"}),e("th",{scope:"col",className:"px-6 py-4 text-sm text-left text-white font-large",children:"Status"}),e("th",{scope:"col",className:"px-6 py-4 text-sm text-white font-large",children:"Actions"})]})}),e("tbody",{children:n.map(r=>t("tr",{className:r.status=="active"?"bg-white border-b":"bg-gray-200 border-b",children:[e("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 whitespace-nowrap",children:r.id}),e("td",{className:"px-6 py-4 text-sm font-light font-bold text-gray-900 whitespace-nowrap",children:r.name}),e("td",{className:"px-6 py-4 text-sm font-light text-gray-900 uppercase whitespace-nowrap",children:r.status=="active"?e("span",{className:"bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full dark:bg-green-900 dark:text-green-300",children:"active"}):e("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full dark:bg-yellow-900 dark:text-yellow-300",children:"inactive"})}),e("td",{className:"px-6 py-4 text-sm font-light text-center text-gray-900 whitespace-nowrap",children:t(s,{children:[e(s.Trigger,{children:e("span",{className:"inline-flex rounded-md",children:t("button",{type:"button",className:"inline-flex items-center px-3 py-2 text-sm font-medium leading-4 text-white transition duration-150 ease-in-out bg-gray-600 border border-transparent rounded-md hover:text-sky-200 focus:outline-none",children:["Actions",e("svg",{className:"ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})}),t(s.Content,{children:[e(s.Link,{href:"",children:"View"}),e(s.Link,{href:"",children:"Edit"}),e(s.Link,{href:route("settings.revision.archive",r),method:"post",as:"button",children:r.status=="active"?"Archive":"Restore"}),e(s.Link,{href:"",method:"post",as:"button",children:"Delete"})]})]})})]},r.id))})]}):e(I,{title:"No Revisions",blurb:"To add a revision, click the 'Add Revision' button."}),e(c,{onClick:b,children:"Add Revision"}),t(w,{show:m,onClose:a,children:[e("span",{className:"float-right mx-4 mt-2 text-2xl font-bold text-gray-300 cursor-pointer hover:text-sky-700",onClick:a,children:"Ã—"}),t("form",{onSubmit:N,className:"p-6",children:[e("h2",{className:"text-lg font-medium font-bold text-gray-900",children:"Create New Revision"}),e("hr",{className:"mt-2 text-gray-300"}),t("div",{className:"mt-6",children:[e(D,{className:"font-bold",for:"name",value:"Revision"}),e(R,{id:"revision",type:"text",name:"revision",value:x.revision,handleChange:r=>u("revision",r.target.value),className:"block w-full mt-1",isFocused:!0,placeholder:"A, B, 0, 1"}),e(C,{message:y.revision,className:"mt-2"})]}),t("div",{className:"flex justify-end mt-6",children:[e(c,{className:"mr-3",processing:g,children:"Create Revision"}),e(k,{onClick:a,children:"Cancel"})]})]})]})]})}export{F as default};
